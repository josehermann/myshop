{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
    <h1 class="text-center">Panier</h1>

    {% if items %}
    {# si j'ai des produits dans mon panier, j'affiche son contenu #}
    <table class="table">
        <thead>
            <tr>
                <th>Produit</th>
                <th>Prix</th>
                <th>Quantité</th>
                <th>Total</th>
               
            </tr>
        </thead>
        <tbody>
            {% for item in items %}
                   <tr>
                    <td><img src="{{ item.produit.photo }}" alt="" width="50"></td>
                    <td>{{ item.produit.prix }}€</td>
                    <td>
                        {{ item.quantity }}
                    </td>
                    <td>{{ item.produit.prix * item.quantity }}€</td>
                    <td class="text-center">
                        <a href="{{ path('cart_remove', {id: item.produit.id })}}" class="btn-sm btn-danger">X</a>
                    </td>
                </tr>    


            {% endfor %}
        
        </tbody>
        <tfoot>
                <tr>
                    <td colspan="3" class="text-end">Total</td>
                    <td colspan="2" >{{total}}€</td>
                </tr>
        </tfoot>
    
    
    
    </table>



    {% else %}
        <h2 class="text-center mt-5">vide</h2>
    {% endif %}
    
{% endblock %}